### <a name="_b7urdng99y53"></a>**Название задачи:** Спринт 9. Задание 3. Открытие депозитов онлайн
### <a name="_hjk0fkfyohdk"></a>**Автор:** Сокун Дмитрий
### <a name="_uanumrh8zrui"></a>**Дата:** 26.04.2025
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
Опишите здесь верхнеуровневые Use Cases. Их нужно оформить в виде таблицы с пошаговым описанием:

| **№** | **Действующие лица или системы**                | **Use Case**                                            | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| :---: | :---------------------------------------------- | :------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  UC1  | Клиент, сайт, система кол-центра                | Подача заявки на открытие депозита с сайта              | 1. Клиент переходит на сайт в раздел депозитов<br>2. Клиент просматривает раздел депозитов<br>3. Сайт обращается в БД за актуальными ставками<br>4. Клиент вводит свой номер телефона и ФИО<br>5. Сайт передает заявку в систему кол-центра через очередь Кафки                                                                                                                                                                                                    |
|  UC2  | Менеджер кол-центра, система кол-центра, клиент | Обработка заявки на открытие депозита с сайта           | 1. Менеджер кол-центра видит в системе кол-центра заявки на открытие депозита<br>2. Менеджер кол-центра выбирает заявку для обработки<br>3. Менеджер кол-центра связывается с клиентом                                                                                                                                                                                                                                                                             |
|  UC3  | Авторизированный клиент, интернет-банк, АБС     | Подача заявки на открытие депозита из интернет-банка    | 1. Авторизированный клиент переходит в интернет-банк в раздел депозитов<br>2. Клиент просматривает раздел депозитов<br>3. Интернет-банк обращается в БД за актуальными и персонализированными ставками<br>4. Клиент указывает счет и сумму<br>5. Клиент подтверждает действие в интернет-банке<br>6. Интернет банк отправляет СМС с подтверждением<br>7. Пользователь вводит код подтверждения из СМС в интернет банке<br>8. Интернет-банк отправляет заявку в АБС |
|  UC4  | АБС, менеджер бэк офиса депозитов               | Обработка заявки на открытие депозита из интернет-банка | 1. Менеджер бэк-офиса депозитов видит заявки на открытие депозитов в АБС<br>2. Менеджер бэк-офиса депозитов обрабатывает заявку в АБС<br>3. АБС отправляет СМС уведомление                                                                                                                                                                                                                                                                                         |
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
Опишите здесь нефункциональные требования и архитектурно-значимые требования.

| **№** | **Требование**                                                                                                                    |
| :---: | :-------------------------------------------------------------------------------------------------------------------------------- |
|  R1   | Сайт должен взаимодействовать с клиентами по защищенному протоколу                                                                |
|  R2   | В интернет-банке данные при передаче также надо передавать по защищенному протоколу                                               |
|  R3   | Режим работы 24/7                                                                                                                 |
|  R4   | Доступность сервисов 99,9%                                                                                                        |
|  P1   | Отклик по всем операция не должен превышать 1с                                                                                    |
|  P2   | Ускорить выдачу справочных данных                                                                                                 |
|  P3   | Возможность горизонтального масштабирования                                                                                       |
|  P4   | Вертикальное масштабирование АБС                                                                                                  |
|  +R1  | Подтверждение открытия депозита по СМС реализуется командой разработки банка                                                      |
|  +R2  | Реализация бэка с применением баз данных MSSQL, Oracle, PHP, Java, React                                                          |
|  +R3  | Вместо устаревшего фреймворка интернет банка ASP.NET MVC 4.5 на основе .NET Framework 4.5 используем современный .net framework 9 |
|  +R4  | Используем микросервисную архитектуру                                                                                             |
|  +R5  | Для асинхронного сообщения сервисов используем Кафку                                                                              |
|  +R6  | Разработка документации                                                                                                           |
### <a name="_qmphm5d6rvi3"></a>**Решение**
*Приведите диаграммы контекста и контейнеров в модели C4. Опишите там основные компоненты и интеграции всех элементов решения.* 
Файлы диаграмм Диаграмма контекста.drawio и Диаграмма контейнеров.drawio.

*Также опишите, какой логикой вы руководствовались в ходе принятия решений и выбора технологий. Не забывайте, что необходимо учесть все функциональные и нефункциональные требования.*
В первую очередь для повышение надежности использован микросервисный подход с возможностью горизонтального масштабирования. Для снижения нагрузки на главную систему АБС было добавлено асинхронное взаимодействие через Кафку. Также чтобы снизить нагрузку с АБС в сайт была добавлена база данных для хранения ставок депозитов, которые обновляются ежедневно. Этими же данными пользуются еще 2 системы - интернет банк и система кол-центра.
Большая часть технологий оставлена как есть. Предлагается усовершенствовать интернет банк и изменить фреймворк на современный кроссплатформенный. Всё это в рамках одного языка программирования.
Ускорение выдачи справочных данных достигается размещением их копии в базах данных использующих приложений.
### <a name="_bjrr7veeh80c"></a>**Альтернативы**
*Опишите здесь наиболее важные альтернативные решения.*

Не использовать микросервисный подход. Все коммуникации сделать синхронными.

**Недостатки, ограничения, риски**

*Подробно опишите здесь недостатки, ограничения и риски выбранного решения.*
Монолитная часть АБС может масштабироваться только вертикально, значит концентрируя функциональность там есть риски "упереться в потолок" производительности, что приведет к медленной работе и падениям системы при росте активного числа пользователей.


